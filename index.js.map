{"version":3,"file":"index.js","sources":["../src/js/book-modal.js","../src/js/books.js","../src/js/contact-modal.js","../src/js/events.js","../src/js/feedbacks.js","../src/js/header.js","../src/js/footer.js","../src/js/hero.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport axios from 'axios';\n\nconst bookModal = document.querySelector('.backdrop-book-modal');\nconst closeBtnBookModal = document.querySelector('.book-modal-close-btn');\n\nconst bookImgContainer = document.querySelector('.book-img-container');\nconst bookModalInfo = document.querySelector('.book-modal-info');\n\nconst BASE_URL = 'https://books-backend.p.goit.global/';\n\n// JS-code for section Books List\n\n// bookList я бачив в тебе вже є, цей можеш видалити, це я для себе писав\n// const bookList = document.querySelector('.books-list');\n// bookList.addEventListener('click', async event => {\n//   if (!event.target.classList.contains('book-item-btn')) {\n//     return;\n//   }\n\n//   openBookModal();\n//   const bookId = event.target.dataset.bookId;\n//   await fetchBookId(bookId);\n// });\n\n// function openBookModal() {\n//   bookModal.classList.remove('window-is-invisible');\n//   document.body.classList.add('not-scrolling-page');\n\n//   document.addEventListener('keydown', onEscKeyPressInBookModal);\n// }\n\nexport async function fetchBookId(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}books/${id}`);\n    const book = response.data;\n\n    renderBook(book);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error while querying',\n      position: 'topRight',\n    });\n    console.error('Error while querying: ', error);\n  }\n}\n\nfunction renderBook(book) {\n  bookImgContainer.innerHTML = `<img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-img\" loading=\"lazy\"/>`;\n  bookModalInfo.innerHTML = `\n  <h2 class=\"book-title\">${book.title}</h2>\n  <p class=\"book-author\">${book.author}</p>\n  <p class=\"book-price\">$${book.price}</p>\n  `;\n}\n\nexport function openBookModal() {\n  bookModal.classList.remove('window-is-invisible');\n  document.body.classList.add('not-scrolling-page');\n\n  document.addEventListener('keydown', onEscKeyPressInBookModal);\n}\n\ncloseBtnBookModal.addEventListener('click', closeBookModal);\n\nbookModal.addEventListener('click', event => {\n  if (event.target === bookModal) {\n    closeBookModal();\n  }\n});\n\nfunction closeBookModal() {\n  bookModal.classList.add('window-is-invisible');\n  document.body.classList.remove('not-scrolling-page');\n\n  document.removeEventListener('keydown', onEscKeyPressInBookModal);\n}\n\nfunction onEscKeyPressInBookModal(event) {\n  if (event.key === 'Escape') {\n    closeBookModal();\n  }\n}\n\n// Form quantity book\n\nconst quantityInput = document.querySelector('#quantity');\nconst minusBtn = document.querySelector('.neg-book-btn');\nconst plusBtn = document.querySelector('.add-book-btn');\nconst addToCartBtn = document.querySelector('.add-to-cart-btn');\nconst buyNowBtn = document.querySelector('.buy-now-btn');\n\nfunction getQuantity() {\n  return Number(quantityInput.value);\n}\n\nplusBtn.addEventListener('click', () => {\n  quantityInput.value = getQuantity() + 1;\n});\n\nminusBtn.addEventListener('click', () => {\n  const currentValue = getQuantity();\n  if (currentValue > 1) {\n    quantityInput.value = currentValue - 1;\n  }\n});\n\naddToCartBtn.addEventListener('click', event => {\n  event.preventDefault();\n\n  console.log('Number of selected books:', getQuantity());\n\n  iziToast.success({\n    title: 'Success',\n    message: `Added ${getQuantity()} book(s) to cart`,\n    position: 'topRight',\n  });\n});\n\nbuyNowBtn.addEventListener('click', event => {\n  event.preventDefault();\n\n  iziToast.info({\n    title: '',\n    message: 'Thank you for your purchase',\n    position: 'topRight',\n  });\n});\n\nnew Accordion('.accordion-container', {\n  duration: 300,\n  showMultiple: true,\n});\n","import axios from 'axios';\nimport { openBookModal, fetchBookId } from './book-modal';\n\nconst booksCategoriesDesktopList = document.querySelector(\n  '#books-categories-desktop-list'\n);\nconst categoriesDropdownWrapper = document.querySelector(\n  '.categories-dropdown-wrapper'\n);\nconst categoriesDropdownBtn = document.querySelector(\n  '.categories-dropdown-btn'\n);\nconst booksCategoriesDropdownList = document.querySelector(\n  '#books-categories-dropdown-list'\n);\nconst booksList = document.querySelector('.books-list');\nconst booksShown = document.querySelector('.books-shown-quantity');\nconst booksLoadMoreBtn = document.querySelector('.books-load-more');\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books';\n\nlet currentBooksLimit = 0;\nlet allBooksData = [];\nlet currentCategory = 'all';\nconst SHOW_MORE_QUANTITY = 4;\n\nfunction getInitialBooksLimit() {\n  return window.innerWidth >= 1440 ? 24 : 10;\n}\n\n// function generateBooksHTML(books) {\n//   return books\n//     .map(\n//       book => `\n//     <li class=\"book-list-item\">\n//         <img class=\"book-item-img\" src=\"${book.book_image}\" alt=\"${\n//         book.title\n//       }\" />\n//         <div class=\"book-item-description\">\n//           <div class=\"book-description-text\">\n//             <div class=\"book-title-and-author\">\n//               <h3 class=\"book-item-title\">${\n//                 toTitleCase(book.title) || 'No Title'\n//               }</h3>\n//               <p class=\"book-item-author\">${book.author || 'Unknown Author'}</p>\n//             </div>\n//             <p class=\"book-item-price\">$${parseInt(book.price)}</p>\n//           </div>\n//           <button class=\"book-item-btn\" type=\"button\" data-book-id=\"${\n//             book._id\n//           }\">Learn More</button>\n//         </div>\n//     </li>\n//   `\n//     )\n//     .join('');\n// }\nfunction generateBooksHTML(books) {\n  return books\n    .map(\n      book => `\n      <li class=\"book-list-item\">\n        <img\n          class=\"book-item-img\"\n          src=\"${book.book_image}\"\n          alt=\"${book.title}\"\n          loading=\"lazy\"\n          onload=\"this.classList.add('loaded')\"\n          width=\"343\"\n          height=\"488\"\n        />\n        <div class=\"book-item-description\">\n          <div class=\"book-description-text\">\n            <div class=\"book-title-and-author\">\n              <h3 class=\"book-item-title\">${\n                toTitleCase(book.title) || 'No Title'\n              }</h3>\n              <p class=\"book-item-author\">${book.author || 'Unknown Author'}</p>\n            </div>\n            <p class=\"book-item-price\">$${parseInt(book.price)}</p>\n          </div>\n          <button class=\"book-item-btn\" type=\"button\" data-book-id=\"${\n            book._id\n          }\">\n            Learn More\n          </button>\n        </div>\n      </li>`\n    )\n    .join('');\n}\n\nfunction renderBooks(isLoadMore = false) {\n  if (!allBooksData.length) {\n    booksList.innerHTML = \"<li class='books-list-problem'>No books found</li>\";\n    booksShown.textContent = '0 books';\n    booksLoadMoreBtn.classList.add('books-hidden');\n    return;\n  }\n\n  const booksToRender = allBooksData.slice(\n    isLoadMore ? currentBooksLimit - SHOW_MORE_QUANTITY : 0,\n    currentBooksLimit\n  );\n\n  const booksHTML = generateBooksHTML(booksToRender);\n\n  if (isLoadMore) {\n    booksList.insertAdjacentHTML('beforeend', booksHTML);\n  } else {\n    booksList.innerHTML = booksHTML;\n  }\n\n  booksShown.textContent = `Showing ${Math.min(\n    currentBooksLimit,\n    allBooksData.length\n  )} of ${allBooksData.length} books`;\n  booksLoadMoreBtn.classList.toggle(\n    'books-hidden',\n    currentBooksLimit >= allBooksData.length\n  );\n}\n\nfunction createCategoryHtml(categories) {\n  let html = `<li class=\"category-list-item active\" data-category-name=\"all\">All categories</li>`;\n  categories.forEach(cat => {\n    if (cat.list_name?.trim()) {\n      html += `<li class=\"category-list-item\" data-category-name=\"${cat.list_name}\">${cat.list_name}</li>`;\n    }\n  });\n  return html;\n}\n\nfunction setActiveCategory(container, clickedItem) {\n  const currentActive = container.querySelector('.category-list-item.active');\n  if (currentActive) currentActive.classList.remove('active');\n  clickedItem.classList.add('active');\n}\n\nfunction addCategoryListeners(container, isDropdown = false) {\n  container.querySelectorAll('.category-list-item').forEach(item => {\n    item.addEventListener('click', event => {\n      setActiveCategory(container, event.target);\n      loadBooks(event.target.dataset.categoryName);\n\n      if (isDropdown) {\n        const dropdownText = categoriesDropdownBtn.querySelector(\n          '.categories-dropdown-text'\n        );\n        dropdownText.textContent = event.target.textContent;\n        container.classList.add('books-hidden');\n      }\n    });\n  });\n}\n\nasync function loadCategories() {\n  const isMobile = window.innerWidth < 1440;\n  const activeContainer = isMobile\n    ? booksCategoriesDropdownList\n    : booksCategoriesDesktopList;\n\n  activeContainer.innerHTML = '<li>Loading categories...</li>';\n\n  try {\n    const { data } = await axios.get('/category-list');\n    const html = createCategoryHtml(data);\n    activeContainer.innerHTML = html;\n\n    addCategoryListeners(activeContainer, isMobile);\n\n    if (isMobile) {\n      const dropdownText = categoriesDropdownBtn.querySelector(\n        '.categories-dropdown-text'\n      );\n      const initialActive = activeContainer.querySelector(\n        '.category-list-item.active'\n      );\n      dropdownText.textContent = initialActive?.textContent || 'All categories';\n    }\n  } catch (error) {\n    activeContainer.innerHTML = '<li>Error loading categories</li>';\n  }\n}\n\nasync function loadBooks(category, isLoadMore = false) {\n  if (!isLoadMore) {\n    booksList.innerHTML =\n      \"<li class='books-list-problem'>Loading books...</li>\";\n    booksShown.textContent = '';\n    booksLoadMoreBtn.classList.add('books-hidden');\n    currentBooksLimit = getInitialBooksLimit();\n    allBooksData = [];\n    currentCategory = category;\n  } else {\n    currentBooksLimit += SHOW_MORE_QUANTITY;\n  }\n\n  const url =\n    category === 'all' ? '/top-books' : `/category?category=${category}`;\n\n  try {\n    if (!allBooksData.length || !isLoadMore) {\n      const { data } = await axios.get(url);\n\n      let tempAllBooks = [];\n      if (category === 'all') {\n        data.forEach(cat => {\n          if (cat.books?.length) tempAllBooks.push(...cat.books);\n        });\n      } else {\n        tempAllBooks = data;\n      }\n\n      const seenTitles = new Set();\n      allBooksData = tempAllBooks.filter(book => {\n        const key = (book.title || '').toLowerCase().trim();\n        if (seenTitles.has(key)) return false;\n        seenTitles.add(key);\n        return true;\n      });\n    }\n\n    renderBooks(isLoadMore);\n  } catch (error) {\n    booksList.innerHTML =\n      \"<li class='books-list-problem'>Error loading books</li>\";\n    booksShown.textContent = 'Error';\n    booksLoadMoreBtn.classList.add('books-hidden');\n  }\n}\n\nfunction toTitleCase(str) {\n  if (!str) return '';\n  return str\n    .toLowerCase()\n    .split(' ')\n    .map(w => w.charAt(0).toUpperCase() + w.slice(1))\n    .join(' ');\n}\n\nbooksLoadMoreBtn.addEventListener('click', () =>\n  loadBooks(currentCategory, true)\n);\ncategoriesDropdownBtn.addEventListener('click', () =>\n  booksCategoriesDropdownList.classList.toggle('books-hidden')\n);\n\ndocument.addEventListener('click', e => {\n  if (\n    !categoriesDropdownWrapper.contains(e.target) &&\n    !booksCategoriesDropdownList.classList.contains('books-hidden')\n  ) {\n    booksCategoriesDropdownList.classList.add('books-hidden');\n  }\n});\n\nbooksList.addEventListener('click', async e => {\n  if (!e.target.classList.contains('book-item-btn')) return;\n  const bookId = e.target.dataset.bookId;\n  await fetchBookId(bookId);\n  openBookModal();\n});\n\n// loadCategories().then(() => loadBooks('all'));\n\nasync function initBooks() {\n  try {\n    // 🚀 Паралельне завантаження без ланцюга критичних запитів\n    await Promise.all([loadCategories(), loadBooks('all')]);\n  } catch (error) {\n    console.error('Initialization error:', error);\n  }\n}\n\ninitBooks();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst contactModal = document.querySelector('.backdrop-contact-modal');\nconst closeBtnContactModal = document.querySelector('.modal-close-btn');\nconst subtitleModal = document.querySelector('.contact-modal-text');\n\n//  JS-code for section Events Booksy\n\n// const eventList = document.querySelector('.events-list');\n// eventList.addEventListener(\"click\", (event) => {\n//   const openBtn = event.target.closest(\".event-btn\");\n//   if (!openBtn) {\n//     return;\n//   }\n//   const eventItem = openBtn.closest(\".event-item\");\n//   if (!eventItem) {\n//     return;\n//   }\n//   const eventTitle = eventItem.querySelector(\".event-subtitle\").textContent;\n//   subtitleModal.textContent = eventTitle;\n\n//   openBtnContactModal();\n// });\n\n\nexport function openBtnContactModal(eventTitle) {\n  subtitleModal.textContent = eventTitle;\n  contactModal.classList.remove(\"window-is-invisible\");\n  document.body.classList.add(\"not-scrolling-page\");\n\n  document.addEventListener(\"keydown\", onEscKeyPress);\n}\n\ncloseBtnContactModal.addEventListener('click', closeContactModal);\n\ncontactModal.addEventListener('click', event => {\n  if (event.target === contactModal) {\n    closeContactModal();\n  }\n});\n\nfunction closeContactModal() {\n  contactModal.classList.add('window-is-invisible');\n  document.body.classList.remove('not-scrolling-page');\n\n  document.removeEventListener('keydown', onEscKeyPress);\n}\n\nfunction onEscKeyPress(event) {\n  if (event.key === 'Escape') {\n    closeContactModal();\n  }\n}\n\n//  Submit Contact Form\n\nconst contactModalForm = document.querySelector('.contact-modal-form');\ncontactModalForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const userName = contactModalForm.elements.name.value.trim().toLowerCase();\n  const userEmail = contactModalForm.elements.email.value.trim().toLowerCase();\n  const userMessage = contactModalForm.elements.message.value\n    .trim()\n    .toLowerCase();\n\n  if (!userName || !userEmail) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please, fill in the Name and Email fields!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  iziToast.success({\n    title: 'Congratulations!',\n    message: 'Data sent. Have a nice day)',\n    position: 'topRight',\n  });\n\n  const userData = {\n    name: userName,\n    email: userEmail,\n    message: userMessage,\n  };\n  console.log(userData);\n\n  contactModalForm.reset();\n});\n","// import Swiper from 'swiper/bundle';\n\nimport { openBtnContactModal } from './contact-modal';\n\n// import Swiper, { Navigation, Pagination } from 'swiper/modules';\n\nimport { Swiper } from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst eventsSlider = new Swiper('.events-swiper', {\n  modules: [Navigation, Pagination],\n  spaceBetween: 24,\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n  navigation: {\n    nextEl: '.events-button-next',\n    prevEl: '.events-button-prev',\n  },\n  keyboard: {\n    enabled: true, // Увімкнути керування з клавіатури\n    onlyInViewport: true, // Працює лише коли слайдер у полі зору\n  },\n  grabCursor: true,\n  breakpoints: {\n    375: {\n      slidesPerView: 1,\n    },\n    768: {\n      slidesPerView: 2,\n    },\n    1440: {\n      slidesPerView: 3,\n    },\n  },\n});\n\n//  JS-code for section Events Booksy\n\nconst eventList = document.querySelector('.events-list');\neventList.addEventListener('click', event => {\n  const openBtn = event.target.closest('.event-btn');\n  if (!openBtn) {\n    return;\n  }\n  const eventItem = openBtn.closest('.event-item');\n  if (!eventItem) {\n    return;\n  }\n  const eventTitle = eventItem.querySelector('.event-subtitle').textContent;\n  // subtitleModal.textContent = eventTitle;\n\n  openBtnContactModal(eventTitle);\n});\n\nconst prevButton = document.querySelector('.hero-button-prev');\nconst nextButton = document.querySelector('.hero-button-next');\n\nfunction handleButtonClick(button) {\n  if (button) {\n    window.requestAnimationFrame(() => button.blur());\n  }\n}\n\nif (prevButton) {\n  prevButton.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n}\n\nif (nextButton) {\n  nextButton.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n}\n","// import Swiper from 'swiper/bundle';\n\n// import Swiper, { Navigation, Pagination, Mousewheel } from 'swiper/modules';\n\nimport { Swiper } from 'swiper';\nimport { Navigation, Pagination, Mousewheel } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst feedbackSlider = new Swiper('.swiper-div', {\n  modules: [Navigation, Pagination, Mousewheel],\n  loop: false,\n  spaceBetween: 24,\n\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n\n  navigation: {\n    nextEl: '.feedbacks-button-next',\n    prevEl: '.feedbacks-button-prev',\n    addIcons: false,\n  },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  mousewheel: {\n    forceToAxis: true,\n  },\n\n  simulateTouch: true,\n\n  breakpoints: {\n    0: {\n      slidesPerView: 1,\n    },\n    768: {\n      slidesPerView: 2,\n    },\n    1440: {\n      slidesPerView: 3,\n    },\n  },\n});\n\nconst swiperUL = document.querySelector('.feedbacks');\n\nswiperUL.addEventListener('keydown', event => {\n  if (event.key === 'Tab') {\n    event.preventDefault();\n\n    if (event.shiftKey) {\n      feedbackSlider.slidePrev();\n    } else {\n      feedbackSlider.slideNext();\n    }\n  }\n});\n\nconst prevButton = document.querySelector('.feedbacks-button-prev');\nconst nextButton = document.querySelector('.feedbacks-button-next');\n\nfunction handleButtonClick(button) {\n  if (button) {\n    window.requestAnimationFrame(() => button.blur());\n  }\n}\n\nif (prevButton) {\n  prevButton.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n}\n\nif (nextButton) {\n  nextButton.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n}\n","const menuBtn = document.querySelector('.open-menu');\nconst closeBtn = document.querySelector('.close-menu');\nconst mobMenu = document.querySelector('.mob-menu');\nconst mobileMenuLinks = document.querySelectorAll('.menu-link'); \nconst desktopLinks = document.querySelectorAll('.header-link'); \nconst isMobile = window.matchMedia('(max-width: 768px)').matches;\n\nexport const smoothScroll = (e) => {\n  e.preventDefault();\n  const targetID = e.currentTarget.getAttribute('href');\n  const targetSection = document.querySelector(targetID);\n  if (targetSection) {\n    targetSection.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  }\n  e.currentTarget.blur();\n};\n\nif (mobMenu && isMobile) {\n  const onEscPress = (e) => {\n    if (e.key === 'Escape') closeMenu();\n  };\n\n  const onOverlayClick = (e) => {\n    if (e.target === mobMenu) closeMenu();\n  };\n\n  const onLinkClick = (e) => {\n    smoothScroll(e);\n    if (e.currentTarget.classList.contains('menu-link')) closeMenu();\n  };\n\n  const openMenu = () => {\n    mobMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n\n    document.addEventListener('keydown', onEscPress);\n    mobMenu.addEventListener('click', onOverlayClick);\n    closeBtn?.addEventListener('click', closeMenu);\n    mobileMenuLinks.forEach((link) => link.addEventListener('click', onLinkClick));\n  };\n\n  const closeMenu = () => {\n    mobMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n\n    document.removeEventListener('keydown', onEscPress);\n    mobMenu.removeEventListener('click', onOverlayClick);\n    closeBtn?.removeEventListener('click', closeMenu);\n    mobileMenuLinks.forEach((link) => link.removeEventListener('click', onLinkClick));\n  };\n\n  menuBtn?.addEventListener('click', openMenu);\n}\n\nif (!isMobile) {\n  desktopLinks.forEach((link) => link.addEventListener('click', smoothScroll));\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { smoothScroll } from './header';\n\nconst emailInput = document.querySelector('#footerMail');\nconst emailForm = document.querySelector('#formFooter');\nconst footerLinks = document.querySelectorAll('.footer-anchor-link');\n\nfooterLinks.forEach(link => link.addEventListener('click', smoothScroll));\n\nconst emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\nemailForm.addEventListener('submit', e => {\n  e.preventDefault();\n  iziToast.destroy();\n\n  const valueEmail = emailInput.value.trim().toLowerCase();\n  if (valueEmail === '') {\n    iziToast.show({\n      message: 'Поле e-mail не може бути порожнім!',\n      color: 'red',\n      timeout: 5000,\n\n      position: 'center',\n    });\n    return;\n  }\n\n  if (!emailPattern.test(valueEmail)) {\n    iziToast.show({\n      message: 'Некоректний e-mail!',\n      color: 'red',\n      timeout: 2500,\n\n      position: 'center',\n    });\n    return;\n  }\n\n  iziToast.show({\n    message: `Дякуємо, ваш e-mail \"${valueEmail}\" успішно відправлено!`,\n    color: 'green',\n    timeout: 4000,\n\n    position: 'center',\n  });\n\n  emailInput.value = '';\n});\n\n/*\nimport { smoothScroll } from './header';\n\nconst emailInput = document.querySelector('#footerMail');\nconst emailForm = document.querySelector('#formFooter');\nconst footerLinks = document.querySelectorAll('.footer-anchor-link');\n\nfooterLinks.forEach(link => link.addEventListener('click', smoothScroll));\n\nconst emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\n// 🔹 Хелпер для динамічного імпорту iziToast\nasync function showToast({ message, color = 'green', timeout = 3000 }) {\n  const [{ default: iziToast }] = await Promise.all([\n    import('izitoast'),\n    import('izitoast/dist/css/iziToast.min.css'),\n  ]);\n\n  iziToast.destroy();\n  iziToast.show({\n    message,\n    color,\n    timeout,\n    position: 'center',\n  });\n}\n\nemailForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const valueEmail = emailInput.value.trim().toLowerCase();\n\n  if (valueEmail === '') {\n    await showToast({\n      message: 'Поле e-mail не може бути порожнім!',\n      color: 'red',\n      timeout: 5000,\n    });\n    return;\n  }\n\n  if (!emailPattern.test(valueEmail)) {\n    await showToast({\n      message: 'Некоректний e-mail!',\n      color: 'red',\n      timeout: 2500,\n    });\n    return;\n  }\n\n  await showToast({\n    message: `Дякуємо, ваш e-mail \"${valueEmail}\" успішно відправлено!`,\n    color: 'green',\n    timeout: 4000,\n  });\n\n  emailInput.value = '';\n});\n*/\n","// import Swiper from 'swiper/bundle';\n// import 'swiper/css/bundle';\n\n// import Swiper, { Navigation, Keyboard } from 'swiper/modules';\n\nimport { Swiper } from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\n\nconst heroSlider = new Swiper('.hero-slider', {\n  modules: [Navigation, Keyboard],\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  navigation: {\n    nextEl: '.hero-button-next',\n    prevEl: '.hero-button-prev',\n  },\n});\n\nconst prevButton = document.querySelector('.hero-button-prev');\nconst nextButton = document.querySelector('.hero-button-next');\n\nfunction handleButtonClick(button) {\n  if (button) {\n    window.requestAnimationFrame(() => button.blur());\n  }\n}\n\nif (prevButton) {\n  prevButton.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n}\n\nif (nextButton) {\n  nextButton.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n}\n\n/*\ndocument.addEventListener('keydown', function (event) {\n  // 1. Перевіряємо, чи ми в області слайдера (щоб не конфліктувати з іншими стрілками)\n  // Використовуємо .hero-slider як загальний контейнер\n  const heroSlider = document.querySelector('.hero-slider');\n  const focusedElement = document.activeElement;\n\n  // Якщо фокус не знаходиться в слайдері або на кнопках, ігноруємо\n  const isFocusInsideSwiperArea =\n    heroSlider.contains(focusedElement) ||\n    (focusedElement && focusedElement.classList.contains('hero-slider-button'));\n\n  if (!isFocusInsideSwiperArea) {\n    return;\n  }\n\n  // 2. Встановлюємо фокус на відповідну кнопку\n  switch (event.key) {\n    case 'ArrowLeft':\n      if (\n        prevButton &&\n        !prevButton.classList.contains('swiper-button-disabled')\n      ) {\n        // Примусово встановлюємо фокус на кнопку \"Попередній\"\n        prevButton.focus();\n\n        // Додатково знімаємо фокус з кнопки \"Наступний\", якщо він там був\n        if (nextButton) nextButton.blur();\n      }\n      // Swiper сам перегорне слайд, оскільки keyboard: enabled: true\n      break;\n\n    case 'ArrowRight':\n      if (\n        nextButton &&\n        !nextButton.classList.contains('swiper-button-disabled')\n      ) {\n        // Примусово встановлюємо фокус на кнопку \"Наступний\"\n        nextButton.focus();\n\n        // Додатково знімаємо фокус з кнопки \"Попередній\", якщо він там був\n        if (prevButton) prevButton.blur();\n      }\n      // Swiper сам перегорне слайд\n      break;\n\n    default:\n      return;\n  }\n});\n*/\n/*\nconst prevButton = document.querySelector('.hero-button-prev');\nconst nextButton = document.querySelector('.hero-button-next');\n\nfunction handleButtonClick(button) {\n  if (button) window.requestAnimationFrame(() => button.blur());\n}\n\n// кліки мишкою\n[prevButton, nextButton].forEach(btn => {\n  btn?.addEventListener('click', function () {\n    handleButtonClick(this);\n  });\n});\n\n// ✅ клавіатурна навігація з урахуванням задізейблених кнопок\nfunction flashButton(btn) {\n  btn.classList.add('is-active');\n  setTimeout(() => btn.classList.remove('is-active'), 200);\n}\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'ArrowRight' && swiper.activeIndex < swiper.slides.length - 1) {\n    console.log(swiper.activeIndex);\n    swiper.slideNext();\n    nextButton.focus();\n    flashButton(nextButton);\n  } else if (e.key === 'ArrowLeft' && swiper.activeIndex > 0) {\n    swiper.slidePrev();\n    prevButton.focus();\n    flashButton(prevButton);\n  }\n});\n\nswiper.on('slideChangeTransitionEnd', () => {\n  document.activeElement?.blur();\n});\n*/\n\n// document.addEventListener('keydown', e => {\n//   if (e.key === 'ArrowRight') {\n//     nextButton?.focus();\n//   } else if (e.key === 'ArrowLeft') {\n//     prevButton?.focus();\n//   }\n// });\n\n//**************************\n//**************************\n\n/*\n// базові стилі\nimport 'swiper/css';\nimport 'swiper/css/navigation';\n\n// імпорти модулів\nimport Swiper from 'swiper';\nimport { Navigation, A11y } from 'swiper/modules';\n\n// Ініціалізація:\nconst swiper = new Swiper('.hero-slider', {\n  modules: [Navigation, A11y], // НЕ додаємо Keyboard\n\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n\n  navigation: {\n    nextEl: '.hero-button-next',\n    prevEl: '.hero-button-prev',\n  },\n\n  // a11y: false, // вимикає автофокус і прокрутку при фокусі\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'ArrowLeft') swiper.slidePrev();\n  if (e.key === 'ArrowRight') swiper.slideNext();\n});\n*/\n\n// const container = document.querySelector('.hero');\n\n// container.addEventListener('keydown', e => {\n//   if (e.key === 'Tab') {\n//     e.preventDefault();\n//   }\n// });\n/*\ndocument.querySelector('.hero-slider').addEventListener(\n  'keydown',\n  function (e) {\n    if (e.key === 'Tab' || e.keyCode === 9) e.stopImmediatePropagation();\n  },\n  true\n);\nповедінка не міняється\n*/\n\n// swiper.keyboard.disable();\n\n// // 1️⃣ Ініціалізація без Keyboard-модуля\n// const swiper = new Swiper('.hero-slider', {\n//   slidesPerView: 1,\n//   slidesPerGroup: 1,\n//   keyboard: {\n//     enabled: false, // <-- вимикаємо стандартну клавіатуру Swiper\n//   },\n//   navigation: {\n//     nextEl: '.hero-button-next',\n//     prevEl: '.hero-button-prev',\n//   },\n// });\n\n// // 2️⃣ Додаємо власну обробку стрілок\n// document.addEventListener('keydown', e => {\n//   // Ігноруємо, якщо користувач у полі введення\n//   const tag = document.activeElement?.tagName;\n//   if (\n//     tag === 'INPUT' ||\n//     tag === 'TEXTAREA' ||\n//     tag === 'SELECT' ||\n//     document.activeElement.isContentEditable\n//   )\n//     return;\n\n//   // Реакція тільки на стрілки\n//   if (e.key === 'ArrowLeft') {\n//     swiper.slidePrev();\n//   } else if (e.key === 'ArrowRight') {\n//     swiper.slideNext();\n//   }\n// });\n\n/*\ndocument.addEventListener('keydown', event => {\n  if (event.key === 'Tab') {\n    event.stopPropagation();\n  }\n});\nповедінка не міняється\n*/\n\n/*\nswiper.keyboard.onKeyDown = function (e) {\n  if (e.key === 'Tab') return; // ігноруємо Tab\n  swiper.keyboard.handle(e);\n};\nповедінка не міняється\n*/\n\n/*\nswiper.keyboard.handle = function (event) {\n  const { key } = event;\n\n\n  if (key === 'Tab' || key === 'TabLeft' || key === 'TabRight') {\n    return;\n  }\n\n\n  if (key === 'ArrowLeft') {\n    swiper.slidePrev();\n  } else if (key === 'ArrowRight') {\n    swiper.slideNext();\n  }\n};\nповедінка не міняється\n*/\n\n/*\ndocument.querySelectorAll('.hero-slider-link').forEach(link => {\n  link.addEventListener('focus', () => {\n    swiper.keyboard.disable();\n  });\n\n  link.addEventListener('blur', () => {\n    swiper.keyboard.enable();\n  });\n});\nповедінка не міняється\n*/\n\n/*\nДопоміжна функція: перевіряє, чи елемент видимий у вьюпорті (аналог onlyInViewport)\nfunction isElementInViewport(el) {\n  if (!el) return false;\n  const rect = el.getBoundingClientRect();\n  return (\n    rect.bottom > 0 &&\n    rect.top < (window.innerHeight || document.documentElement.clientHeight)\n  );\n}\n\nВласний обробник клавіш: реагує ТІЛЬКИ на ArrowLeft та ArrowRight,\n//     НЕ реагує на Tab і не зачіпає інші елементи вводу (input, textarea, select, contenteditable)\nfunction onDocumentKeyDown(e) {\n  const active = document.activeElement;\n  const activeTag =\n    active && active.tagName ? active.tagName.toLowerCase() : null;\n  const isEditable =\n    active &&\n    (active.isContentEditable ||\n      activeTag === 'input' ||\n      activeTag === 'textarea' ||\n      activeTag === 'select');\n\n  // Якщо фокус у редагованому полі — нічого не робимо\n  if (isEditable) return;\n\n  // Переконаємось, що наш слайдер в видимій частині сторінки\n  if (!isElementInViewport(document.querySelector('.hero-slider'))) return;\n\n  if (e.key === 'ArrowLeft' || e.key === 'Left') {\n    e.preventDefault(); // зупиняємо стандартну поведінку сторінки (опціонально)\n    // Перевіряємо чи можна рухатись назад\n    if (\n      !document\n        .querySelector('.hero-button-prev')\n        ?.classList.contains('swiper-button-disabled')\n    ) {\n      swiper.slidePrev();\n      // опційно: зсунути фокус на prev button, якщо потрібно:\n      // document.querySelector('.hero-button-prev')?.focus();\n    }\n  } else if (e.key === 'ArrowRight' || e.key === 'Right') {\n    e.preventDefault();\n    if (\n      !document\n        .querySelector('.hero-button-next')\n        ?.classList.contains('swiper-button-disabled')\n    ) {\n      swiper.slideNext();\n      // document.querySelector('.hero-button-next')?.focus();\n    }\n  }\n}\n\n// Підключаємо обробник на рівні документа (звичайна фаза)\ndocument.addEventListener('keydown', onDocumentKeyDown);\n*/\n\n// if (swiper.keyboard && swiper.keyboard._onDocumentKeyDown) {\n//   // Знімаємо внутрішній глобальний обробник Swiper\n//   document.removeEventListener('keydown', swiper.keyboard._onDocumentKeyDown);\n// }\n\n// console.log(window.swiper); //undefined\n\n// const el = document.querySelector('.hero-slider');\n// console.log('el:', el); //div\n// console.log(Object.keys(window).filter(k => /swiper/i.test(k))); //[]\n\n// console.dir(swiper);\n// console.dir(swiper.keyboard);\n\n// **************************\n// логувати перші 20 подій keydown з стеком\n/*\nlet i = 0;\nfunction inspector(e) {\n  if (i++ > 20) return;\n  console.groupCollapsed('keydown', e.key); //keydown Tab\n  console.trace(); //console.trace inspector\t@\thero.js:178\n  console.groupEnd();\n}\ndocument.addEventListener('keydown', inspector, true);\n*/\n/*\nМожливі варіанти, чому слайди все одно горталися при Tab\n\nФокус змінює активний елемент у DOM, і Swiper реагує через фокус/blur на своїй кнопці або контейнері (тобто не на keydown, а на зміну document.activeElement).\n\nSwiper обробляє клавіатуру всередині власного “loop” методу (через internal observer), який запускається під час “keyboard.enable()” і не через звичайний keydown listener.\n\nВикористовується “Accessibility module” (a11y) — він може керувати навігацією стрілками і фокусом незалежно від keyboard-модуля.\n*/\n\n// console.log(swiper.keyboard); //{enabled: true, enable: ƒ, disable: ƒ}\n\n// console.log(swiper.modules);\n\n// console.log(document.activeElement); //keydown Tab\n\n/*\nswiper.keyboard увімкнений → Swiper слухає клавіатуру.\n\nСеред модулів є Keyboard, Navigation, і A11y.\n\ndocument.activeElement під час натискання Tab — це сам document (тобто фокус ні на чому, тому Swiper приймає подію глобально).\n\nТобто поведінка, коли Tab гортáє слайди, спричинена саме модулем Keyboard, який обробляє всі keydown-події на document, не перевіряючи, яка саме клавіша.\n*/\n// console.log(Object.keys(swiper.keyboard)); //['enabled', 'enable', 'disable']\n"],"names":["bookModal","closeBtnBookModal","bookImgContainer","bookModalInfo","BASE_URL","fetchBookId","id","book","axios","renderBook","error","iziToast","openBookModal","onEscKeyPressInBookModal","closeBookModal","event","quantityInput","minusBtn","plusBtn","addToCartBtn","buyNowBtn","getQuantity","currentValue","Accordion","booksCategoriesDesktopList","categoriesDropdownWrapper","categoriesDropdownBtn","booksCategoriesDropdownList","booksList","booksShown","booksLoadMoreBtn","currentBooksLimit","allBooksData","currentCategory","SHOW_MORE_QUANTITY","getInitialBooksLimit","generateBooksHTML","books","toTitleCase","renderBooks","isLoadMore","booksToRender","booksHTML","createCategoryHtml","categories","html","cat","_a","setActiveCategory","container","clickedItem","currentActive","addCategoryListeners","isDropdown","item","loadBooks","dropdownText","loadCategories","isMobile","activeContainer","data","initialActive","category","url","tempAllBooks","seenTitles","key","str","w","bookId","initBooks","contactModal","closeBtnContactModal","subtitleModal","openBtnContactModal","eventTitle","onEscKeyPress","closeContactModal","contactModalForm","userName","userEmail","userMessage","Swiper","Navigation","Pagination","eventList","openBtn","eventItem","prevButton","nextButton","handleButtonClick","button","feedbackSlider","Mousewheel","swiperUL","menuBtn","closeBtn","mobMenu","mobileMenuLinks","desktopLinks","smoothScroll","targetID","targetSection","onEscPress","e","closeMenu","onOverlayClick","onLinkClick","openMenu","link","emailInput","emailForm","footerLinks","emailPattern","valueEmail","Keyboard"],"mappings":"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"}